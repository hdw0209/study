<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Animations-Text</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div include-html="/sidemenu.html"></div>
        <div class="container">
            <div class="ml1">
                <span class="text-wrapper">
                    <span class="line line1"></span>
                    <span class="letters">CODELINE</span>
                    <span class="line line2"></span>
                </span>
            </div>
            <div class="ml2">CODELINE</div>
            <div class="ml3">CODELINE</div>
            <div class="ml4">CODELINE</div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.0/anime.min.js"></script>
        <script src="/common.js"></script>
        <script>
            // #1 Wrap every letter in a span
            var textWrapper = document.querySelector('.ml1 .letters');
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

            anime
                .timeline({ loop: true })
                .add({
                    targets: '.ml1 .letter',
                    scale: [0.3, 1],
                    opacity: [0, 1],
                    translateZ: 0,
                    easing: 'easeOutExpo',
                    duration: 600,
                    delay: (el, i) => 70 * (i + 1),
                })
                .add({
                    targets: '.ml1 .line',
                    scaleX: [0, 1],
                    opacity: [0.5, 1],
                    easing: 'easeOutExpo',
                    duration: 700,
                    offset: '-=875',
                    delay: (el, i, l) => 80 * (l - i),
                })
                .add({
                    targets: '.ml1',
                    opacity: 0,
                    duration: 1000,
                    easing: 'easeOutExpo',
                    delay: 1000,
                });

            // #2 Wrap every letter in a span
            var textWrapper = document.querySelector('.ml2');
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

            anime
                .timeline({ loop: true })
                .add({
                    targets: '.ml2 .letter',
                    scale: [4, 1],
                    opacity: [0, 1],
                    translateZ: 0,
                    easing: 'easeOutExpo',
                    duration: 950,
                    delay: (el, i) => 70 * i,
                })
                .add({
                    targets: '.ml2',
                    opacity: 0,
                    duration: 1000,
                    easing: 'easeOutExpo',
                    delay: 1000,
                });

            // #3 Wrap every letter in a span
            var textWrapper = document.querySelector('.ml3');
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

            anime
                .timeline({ loop: true })
                .add({
                    targets: '.ml3 .letter',
                    opacity: [0, 1],
                    easing: 'easeInOutQuad',
                    duration: 2250,
                    delay: (el, i) => 150 * (i + 1),
                })
                .add({
                    targets: '.ml3',
                    opacity: 0,
                    duration: 1000,
                    easing: 'easeOutExpo',
                    delay: 1000,
                });
            // Wrap every letter in a span
            var textWrapper = document.querySelector('.ml4');
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

            anime
                .timeline({ loop: true })
                .add({
                    targets: '.ml4 .letter',
                    translateX: [40, 0],
                    translateZ: 0,
                    opacity: [0, 1],
                    easing: 'easeOutExpo',
                    duration: 1200,
                    delay: (el, i) => 500 + 30 * i,
                })
                .add({
                    targets: '.ml4 .letter',
                    translateX: [0, -30],
                    opacity: [1, 0],
                    easing: 'easeInExpo',
                    duration: 1100,
                    delay: (el, i) => 100 + 30 * i,
                });
        </script>
    </body>
</html>
